<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Salle a manger</title>
	<meta name="description" content="Salle a manger - Projet REV 2016">
	<script src="aframe.js"></script>
	<script src="js/aframe-text-component.min.js"></script>
</head>

<body>
	<a-scene stats="false" vr-mode-ui="enabled: false">

		<!-- La caméra -->
		<a-entity id="camera" camera="userHeight: 2.0" look-controls wasd-controls position="-6 0 4" rotation="0 -45 0">
			<a-entity cursor="fuse: false; fuseTimeout: 500" position="0 0 -0.2" geometry="primitive: sphere ; radius: 0.01 " material="color: pink; transparent: true; opacity:0.3;  shader: flat">
			</a-entity>
		</a-entity>

		<!-- Le fond d'écran -->
		<a-sky src="images/pano/tintamarre.jpg"></a-sky>

		<!-- Les modèles à récupérer-->
		<a-assets>
				<!-- Table -->
				<a-asset-item id="table-obj" src="modeles/chair_table/table.obj"></a-asset-item>
				<a-asset-item id="table-mtl" src="modeles/chair_table/table.mtl"></a-asset-item>
				<!-- Chaise -->
				<a-asset-item id="chair-obj" src="modeles/vieille_chaise/chair_granmother.obj"></a-asset-item>
				<a-asset-item id="chair-mtl" src="modeles/vieille_chaise/chair_granmother.mtl"></a-asset-item>

				<a-asset-item id="chair2-obj" src="modeles/chair_office_x/chair_office_x.obj"></a-asset-item>
				<a-asset-item id="chair2-mtl" src="modeles/chair_office_x/chair_office_x.mtl"></a-asset-item>

				<!-- Cheminée --> 
				<a-asset-item id="cheminee-obj" src="modeles/fireplace2/fireplace2.obj"></a-asset-item>
				<a-asset-item id="cheminee-mtl" src="modeles/fireplace2/fireplace2.mtl"></a-asset-item>

				<!-- Commode -->
				<a-asset-item id="commode-obj" src="modeles/hallTable/hallTable.obj"></a-asset-item>
				<a-asset-item id="commode-mtl" src="modeles/hallTable/hallTable.mtl"></a-asset-item>

				<!-- Chandelier --> 
				<a-asset-item id="chandelier-obj" src="modeles/chandelier-lamp/chandelier-lamp.obj"> </a-asset-item>
				<a-asset-item id="chandelier-mtl" src="modeles/chandelier-lamp/chandelier-lamp.mtl"> </a-asset-item>

				<!-- Armoire -->
				<a-asset-item id="armoire-obj" src="modeles/mobileCiliegio/mobileCiliegio.obj"> </a-asset-item>
				<a-asset-item id="armoire-mtl" src="modeles/mobileCiliegio/mobileCiliegio.mtl"> </a-asset-item>
				
				<!--mixin-->
				<a-mixin id="wood" material="side: double; src: url(textures/wood.jpg)"></a-mixin>
				<a-mixin id="planche" geometry="primitive:sphere; height:0.2; width:4; depth:2"></a-mixin>
				<a-mixin id="pied_table" geometry="primitive:box; height:1.1; width:0.4; depth:0.5"></a-mixin>
				<a-mixin id="cadre-porte" geometry="primitive:box; height:0.2; width:4; depth:0.2" rotation="0 90 90" material="src: url(textures/boiserie.jpg)"></a-mixin>

		</a-assets>


		<!-- un bouton pour l'interaction -->
		<a-entity id="bouton-G">
		</a-entity>

		<!-- Le sol de la pièce  -->
		<a-entity geometry="primitive: plane; width: 20; height: 12" rotation="90 0 0" material="side: double; src: url(textures/parquet.jpg) ;repeat: 10 7">
		</a-entity>

		<!-- Le premier mur -->
		<a-entity geometry="primitive: plane; width: 20; height: 7" position="0 3.5 -6" material="side: double; src: url(textures/wall.jpg) ">
		</a-entity>

		<!-- Le deuxième mur -->
		<a-entity geometry="primitive: plane; width: 12; height: 7" position="10 3.5 0" rotation="0 90 0" material="side: double; src: url(textures/wall.jpg)">
		</a-entity>

		<!-- Le troisième mur -->
		<a-entity geometry="primitive: plane; width: 12; height: 7" position="-10 3.5 0" rotation="0 -90 0" material="side: double; src: url(textures/wall.jpg)">
		</a-entity>

		<!-- Le quatrième mur -->
		<a-entity geometry="primitive: plane; width: 20; height: 7" position="0 3.5 6" material="side: double; src: url(textures/wall.jpg)">
		</a-entity>


		<!-- Le plafond -->
		<a-entity geometry="primitive: plane; width: 20; height: 12" rotation="90 0 0" position="0 7 0" material="side: double; src: url(textures/plafond2.jpg)">
		</a-entity>

		<!-- Les poutres du plafond-->
		<!-- Petites poutres-->
		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 -6" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 -5" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 -4" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 -3" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 -2" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 -1" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 0" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 1" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 2" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 3" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 4" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 5" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<a-box color="#FFF" width="4" height="10" depth="2" position="0 7.25 6" scale="5 0.1 0.2" material="src: url(textures/poutre.jpg); repeat: 15 1"></a-box>

		<!-- Les grosses poutres-->
		<a-box width="1" height="12" depth="1" rotation="90 90 90" position="4 7 0" material="side: double; src: url(textures/wood.jpg)">
		</a-box>

		<a-box width="1" height="12" depth="1" rotation="90 90 90" position="-5 7 0" material="side: double; src: url(textures/wood.jpg)">
		</a-box>


		<!-- La porte -->
		<a-entity geometry="primitive: plane; width: 3; height: 4" position="6 2 -5.95" sq material="side: double; src: url(textures/door.jpg)"></a-entity>

		<!-- La cadre de la porte-->
		<a-box width="4" height="2" position="4.5 2 -6" scale="1 0.1 0.2" rotation="0 90 90" material="src: url(textures/boiserie.jpg)">
		</a-box>

		<a-box width="3" height="2" position="6 3.9 -6" scale="1 0.1 0.2" rotation="90 90 90" material="src: url(textures/boiserie.jpg)"></a-box>

		<a-box width="4" height="2" position="7.5 2 -6" scale="1 0.1 0.2" rotation="0 90 90" material="src: url(textures/boiserie.jpg)">
		</a-box>


		<!-- La fenetre du fond-->
		<!-- Le cadre-->
		<a-entity geometry="primitive: plane; width: 4; height: 7" position="9 3.5 -4" rotation="0 90 0" material="side: double; src: url(textures/wall.jpg)">
		</a-entity>

		<a-entity geometry="primitive: plane; width: 4; height: 7" position="9 3.5 4" rotation="0 90 0" material="side: double; src: url(textures/wall.jpg)">
		</a-entity>

		<a-entity geometry="primitive: plane; width: 2; height: 4" position="9 6 0" rotation="0 90 90" material="side: double; src: url(textures/wall.jpg)">
		</a-entity>

		<!-- Les boiseries-->
		<a-box width="5" height="0.3" depth="0.2" position="9 2.5 -2" rotation="0 90 90" material="src: url(textures/boiserie.jpg)">
		</a-box>

		<a-box width="4.5" height="0.3" depth="0.2" position="9 4.9 0" rotation="90 0 90" material="src: url(textures/boiserie.jpg)">
		</a-box>

		<a-box width="5" height="0.3" depth="0.1" position="9 2.5 2" rotation="0 90 90" material="src: url(textures/boiserie.jpg)">
		</a-box>

		<!-- Contours mur de la fenetre-->
		<a-entity geometry="primitive: plane; width: 1; height: 5" position="9.5 2.5 2" material="side: double; src: url(textures/boiserie.jpg)">
		</a-entity>

		<a-entity geometry="primitive: plane; width: 1; height: 5" position="9.5 2.5 -2" material="side: double; src: url(textures/boiserie.jpg)">
		</a-entity>

		<a-entity geometry="primitive: plane; width: 4; height: 1" position="9.5 5 0" rotation="90 90 0" material="side: double; src: url(textures/boiserie.jpg)">
		</a-entity>

		<!-- La fenetre en elle-même-->
		<a-entity geometry="primitive: plane; width: 4; height: 5" position="9.9 2.5 0" rotation="0 90 0" material="side: double; src: url(textures/window.jpg)">
		</a-entity>

		<!-- Repère de la scène repeat: 100 20 -->
		<!--<a-sphere radius="0.2"></a-sphere>
		<a-cylinder height="3.0" color="green" radius="0.05" position="0.0 1.5 0.0"></a-cylinder>
		<a-cylinder height="3.0" color="red" radius="0.05" position="1.5 0.0 0.0" rotation="0 0 -90"></a-cylinder>
		<a-cylinder height="3.0" color="blue" radius="0.05" position="0.0 0.0 1.5" rotation="90 0 0"></a-cylinder>

		<a-sphere radius="0.2" color="red" position="4 0 0"></a-sphere>
		<a-sphere radius="0.2" color="green" position="0 4 0"></a-sphere>
		<a-sphere radius="0.2" color="blue" position="0 0 4"></a-sphere>-->

		<!-- table -->
		<a-entity id="table">
			<a-entity mixin="wood planche" position="0 1.1 0"  scale="2 0.1 2">
			</a-entity>

			<!--pied de la table-->
			<a-entity mixin="wood pied_table" position=" 0 0.5 0"></a-entity>
	

		</a-entity>

		<!--tapis-->
		<a-entity geometry="primitive: plane; width: 10; height: 8" position="0 0.1 0" rotation="90 0 0" material="side: double; src: url(images/tapis.jpg) ">
		</a-entity>

		<!-- chaises  -->
		<a-obj-model id="chaise-1" src="#chair2-obj" mtl="#chair2-mtl" rotation="0 0 0" position="4 0.0 -5.20" scale="0.02 0.02 0.02"></a-obj-model>		

		<a-obj-model id="chaise-2" src="#chair2-obj" mtl="#chair2-mtl" rotation="0 0 0" position="2.5 0.0 -5.20" scale="0.02 0.02 0.02"></a-obj-model>

		<a-obj-model id="chaise-3" src="#chair2-obj" mtl="#chair2-mtl" rotation="0 0 0" position="1 0.0 -5.20" scale="0.02 0.02 0.02"></a-obj-model>

		<!-- Cheminée -->
		<a-obj-model id="cheminee" src="#cheminee-obj" mtl="#cheminee-mtl" position="-1.4 1.5 -5.5" scale="0.035 0.03 0.02"></a-obj-model>
	
		

		<!--Sphere translucide pour déplacement-->		
		<!-- Position tableau --> 
		<a-sphere id="sphereMonsieurPomme" radius="0.5" color="white" opacity="0.7" position="7 2 -4"></a-sphere>
		<a-sphere id="sphereLaitierePipe" radius="0.5" color="white" opacity="0.7" position="6 2 5"></a-sphere>

		<a-sphere id="sphereJeuneFillePerle" radius="0.5" color="white" opacity="0.7" position="2 2 -4.5"></a-sphere>
		<a-sphere id="sphereBobEponge" radius="0.5" color="white" opacity="0.7" position="-2.5 2 4.5"></a-sphere>

		<!--<a-sphere id="sphere-dir-5" radius="0.5" color="white" opacity="0.7" position="5.5 2 5.5"></a-sphere>-->
		<a-sphere id="sphereBretagne" radius="0.5" color="white" opacity="0.7" position="-9.5 2 0"></a-sphere>

		<!-- Position cheminée --> 
		<a-sphere id="sphereCheminee" radius="0.8" color="white" opacity="0.7" position="-1.4 2 -4"></a-sphere>

		<!-- Position fenetre -->
		<a-sphere id="sphereFenetre" radius="0.5" color="white" opacity="0.7" position="9 2 0"></a-sphere>

		<!-- Position accueil -->
		<a-sphere id="sphereAccueil" radius="0.5" color="white" opacity="0.7" position="2.5 2 0"></a-sphere>


	</a-scene>

    <script src="scripts/Guide.js"></script>
    <script src="scripts/StateMachine.js"> </script>

</body>
</html>